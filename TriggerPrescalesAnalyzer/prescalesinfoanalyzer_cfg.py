import FWCore.ParameterSet.Config as cms
import FWCore.PythonUtilities.LumiList as LumiList 
import FWCore.ParameterSet.Types as CfgTypes

process = cms.Process("TriggerInfo")

process.load("FWCore.MessageService.MessageLogger_cfi")

#process.options = cms.untracked.PSet(
    #wantSummary = cms.untracked.bool(True)
#)

process.maxEvents = cms.untracked.PSet( input = cms.untracked.int32(-1) )

process.source = cms.Source("PoolSource",
    fileNames = cms.untracked.vstring( *(
#'root://eospublic.cern.ch//eos/opendata/cms/Run2011A/Jet/AOD/12Oct2013-v1/10000/06E59C16-0A40-E311-B387-02163E008D9F.root', #Not good quality
'root://eospublic.cern.ch//eos/opendata/cms/Run2011A/Jet/AOD/12Oct2013-v1/20000/5CE401C3-033F-E311-89A0-003048F23986.root',
'root://eospublic.cern.ch//eos/opendata/cms/Run2011A/Jet/AOD/12Oct2013-v1/20000/5CF797D2-C83E-E311-9C22-BCAEC518FF8E.root',
'root://eospublic.cern.ch//eos/opendata/cms/Run2011A/Jet/AOD/12Oct2013-v1/20000/5E1FDC60-D63E-E311-AEDF-003048F1C540.root',
'root://eospublic.cern.ch//eos/opendata/cms/Run2011A/Jet/AOD/12Oct2013-v1/20000/5E42DBAF-C43E-E311-81FB-C86000151BA8.root',
'root://eospublic.cern.ch//eos/opendata/cms/Run2011A/Jet/AOD/12Oct2013-v1/20000/5E4C64EB-E13E-E311-A924-02163E008EC1.root',
'root://eospublic.cern.ch//eos/opendata/cms/Run2011A/Jet/AOD/12Oct2013-v1/20000/5E6BE4AA-C43E-E311-BA28-C86000151BEC.root',
'root://eospublic.cern.ch//eos/opendata/cms/Run2011A/Jet/AOD/12Oct2013-v1/20000/5E892460-0B3F-E311-98B7-003048F1BF0E.root',
'root://eospublic.cern.ch//eos/opendata/cms/Run2011A/Jet/AOD/12Oct2013-v1/20000/5E9DAE36-E23E-E311-AF28-003048F003DC.root',
'root://eospublic.cern.ch//eos/opendata/cms/Run2011A/Jet/AOD/12Oct2013-v1/20000/5EA883CF-0E3F-E311-B46C-003048FEAF30.root',


#    'file:00082EAF-C03D-E311-8E53-003048F00B1C.root' 
    ) )
)

#goodJSON = 'Cert_160404-180252_7TeV_ReRecoNov08_Collisions11_JSON.txt'
goodJSON = 'JsonRun163337.json'
myLumis = LumiList.LumiList(filename = goodJSON).getCMSSWString().split(',')
#myLumis = LumiList.LumiList(lumis = [[160943, 1], [160957, 1], [161176, 1], [161224, 1], [161312, 1], [162765, 1], [162765, 24], [162765, 25], [162765, 26], [162765, 27], [162765, 28], [162765, 29], [162765, 30], [162765, 31], [162765, 32], [162765, 33], [162765, 34], [162765, 35], [162765, 36], [162765, 37], [162765, 38], [162765, 39], [162765, 40], [162811, 339], [162811, 340], [162828, 1], [162828, 83], [162828, 84], [162828, 85], [162909, 283], [162909, 284], [162909, 285], [162909, 286], [162909, 287], [162909, 288], [162909, 289], [162909, 290], [163046, 231], [163046, 232], [163046, 233], [163046, 234], [163046, 235], [163046, 236], [163046, 237], [163046, 238], [163078, 1], [163238, 14], [163238, 15], [163261, 1], [163270, 1], [163270, 916], [163270, 917], [163270, 918], [163270, 919], [163270, 920], [163270, 921], [163270, 922], [163270, 923], [163270, 924], [163270, 925], [163270, 926], [163270, 927], [163270, 928], [163289, 386], [163289, 387], [163289, 388], [163340, 1], [163340, 479], [163340, 480], [163340, 481], [163340, 482], [163340, 483], [163340, 484], [163340, 485], [163340, 486], [163340, 487], [163340, 488], [163358, 61], [163358, 62], [163358, 63], [163387, 1], [163387, 254], [163387, 255], [163387, 256], [163483, 1], [163483, 45], [163483, 46], [163483, 47], [163483, 48], [163483, 49], [163483, 50], [163483, 51], [163483, 52], [163483, 53], [163483, 54], [163483, 55], [163483, 56], [163483, 57], [163596, 1], [163596, 26], [163596, 27], [163596, 28], [163596, 29], [163630, 184], [163630, 185], [163668, 1], [163738, 301], [163738, 302], [163738, 303], [163738, 304], [163738, 305], [163738, 306], [163738, 307], [163738, 308], [163738, 309], [163738, 310], [163738, 311], [163765, 1], [163765, 309], [163765, 310], [163765, 311], [163765, 312], [163765, 313], [163765, 314], [163765, 315], [163765, 316], [163765, 317], [163765, 318], [163765, 319], [163765, 320], [163765, 321], [163796, 178], [163796, 179], [163796, 180], [163796, 181], [163796, 182], [163817, 963], [163817, 964], [163817, 965], [163817, 966], [163869, 121], [163869, 122], [163869, 123], [165364, 1298], [165364, 1299], [165364, 1300], [165364, 1301], [165402, 28], [165487, 146], [165487, 147], [165487, 148], [165487, 149], [165487, 150], [165487, 151], [165506, 169], [165506, 170], [165514, 563], [165514, 564], [165514, 565], [165514, 566], [165514, 567], [165570, 945], [165570, 946], [165970, 332], [165970, 333], [165970, 334], [165970, 335], [166011, 83], [166150, 101], [166150, 102], [166150, 103], [166150, 104], [166150, 105], [166150, 106], [166150, 107], [166150, 108], [166150, 109], [166150, 110], [166150, 111], [166150, 112], [166150, 113], [166150, 114], [166150, 115], [166150, 116], [166164, 35], [166164, 36], [166164, 37], [166164, 38], [166164, 39], [166164, 40], [166346, 212], [166346, 213], [166346, 214], [166346, 215], [166408, 1233], [166408, 1234], [166408, 1235], [166408, 1236], [166429, 89], [166462, 524], [166462, 525], [166462, 526], [166486, 167], [166486, 168], [166486, 169], [166486, 170], [166486, 171], [166486, 172], [166486, 173], [166486, 174], [166502, 105], [166502, 106], [166502, 107], [166502, 108], [166502, 109], [166514, 460], [166514, 461], [166514, 462], [166514, 463], [166514, 464], [166530, 62], [166530, 63], [166565, 897], [166565, 898], [166701, 784], [166701, 785], [166701, 786], [166701, 787], [166701, 788], [166701, 789], [166701, 790], [166701, 791], [166701, 792], [166763, 647], [166763, 648], [166763, 649], [166763, 650], [166787, 361], [166787, 362], [166787, 363], [166787, 364], [166842, 166], [166842, 167], [166842, 168], [166842, 169], [166842, 170], [166864, 535], [166864, 536], [166864, 537], [166895, 602], [166895, 603], [166911, 102], [166911, 103], [166911, 104], [166923, 466], [166923, 467], [166923, 468], [166923, 469], [166923, 470], [166967, 216], [166967, 217], [166967, 218], [166967, 219], [166967, 220], [167043, 228], [167043, 229], [167043, 230], [167043, 231], [167043, 232], [167043, 233], [167043, 234], [167043, 235], [167078, 172], [167078, 173], [167078, 174], [167103, 93], [167103, 94], [167551, 466], [167551, 467], [167551, 468], [167551, 469], [167551, 470], [167551, 471], [167676, 448], [167676, 449], [167676, 450], [167740, 167], [167740, 168], [167740, 170], [167740, 171], [167740, 172], [167740, 173], [167746, 382], [167746, 383], [167746, 384], [167754, 100], [167754, 101], [167754, 102], [167754, 103], [167786, 175], [167786, 176], [170722, 284], [170722, 285], [170722, 286], [170722, 287], [170759, 373], [170759, 374], [170759, 375], [170759, 376], [170759, 377], [170876, 518], [170901, 193], [170901, 194], [170901, 195], [170901, 196], [170901, 197], [170901, 198], [170901, 199], [170901, 200], [171117, 80], [171117, 81], [171117, 82], [171117, 83], [171117, 84], [171178, 1037], [171178, 1038], [171178, 1039], [171178, 1040], [171178, 1041], [171178, 1042], [171178, 1043], [171219, 153], [171219, 154], [171219, 155], [171219, 156], [171219, 157], [171219, 158], [171219, 159], [171219, 160], [171219, 161], [171219, 162], [171282, 171], [171315, 223], [171315, 224], [171315, 225], [171369, 157], [171369, 158], [171369, 159], [171369, 160], [171369, 161], [171446, 862], [171446, 863], [171446, 864], [171578, 972], [171578, 973], [171578, 974], [171812, 435], [171812, 436], [171812, 437], [171812, 438], [171897, 538], [171897, 539], [171897, 540], [171897, 541], [171897, 542], [171926, 261], [171926, 262], [171926, 263], [171926, 264], [172033, 747], [172033, 748], [172033, 749], [172208, 194], [172208, 195], [172208, 196], [172208, 197], [172208, 198], [172208, 199], [172255, 38], [172255, 39], [172255, 40], [172268, 167], [172268, 168], [172268, 169], [172286, 212], [172286, 213], [172286, 214], [172286, 215], [172286, 216], [172389, 457], [172389, 458], [172389, 459], [172389, 460], [172401, 145], [172401, 146], [172401, 147], [172401, 148], [172635, 268], [172778, 94], [172778, 95], [172778, 96], [172778, 97], [172824, 50], [172824, 51], [172824, 52], [172824, 53], [172824, 54], [172847, 128], [172847, 129], [172847, 130], [172847, 131], [172868, 1969], [172868, 1970], [172952, 1559], [172952, 1560], [172952, 1561], [172952, 1562], [172999, 290], [172999, 291], [172999, 292], [172999, 293], [172999, 294], [173198, 816], [173198, 817], [173198, 818], [173198, 819], [173198, 820], [173198, 821], [173198, 822], [173198, 823], [173381, 290], [173381, 291], [173381, 292], [173381, 293], [173381, 294], [173389, 645], [173389, 646], [173389, 647], [173389, 648], [173389, 649], [173389, 650], [173389, 651], [173389, 652], [173389, 653], [173406, 283], [173406, 284], [173406, 285], [173406, 286], [173439, 755], [173439, 756], [175910, 10], [175910, 11], [175910, 12], [175921, 425], [175921, 426], [175921, 427], [175921, 428], [175976, 100], [175976, 101], [175976, 102], [175990, 157], [175990, 158], [175990, 159], [175990, 160], [175990, 161], [175990, 162], [175990, 163], [175990, 164], [176023, 129], [176169, 134], [176169, 135], [176169, 136], [176169, 137], [176169, 138], [176169, 139], [176169, 140], [176207, 228], [176207, 229], [176207, 230], [176289, 70], [176289, 71], [176289, 72], [176289, 73], [176289, 74], [176289, 75], [176548, 1022], [176548, 1023], [176548, 1024], [176765, 130], [176765, 131], [176765, 132], [176765, 133], [176765, 134], [176765, 135], [176765, 136], [176765, 137], [176765, 138], [176765, 139], [176765, 140], [176765, 141], [176771, 152], [176771, 153], [176771, 154], [176771, 155], [176771, 156], [176807, 455], [176807, 456], [176807, 457], [176807, 458], [176807, 459], [176807, 460], [176807, 461], [176868, 495], [176889, 95], [176889, 96], [176889, 97], [176889, 98], [176889, 99], [176889, 100], [176889, 101], [176889, 102], [176933, 438], [176959, 31], [176959, 32], [176959, 33], [176959, 34], [176959, 35], [176959, 36], [176959, 37], [176959, 38], [176959, 39], [176982, 9], [176982, 10], [177053, 734], [177053, 735], [177053, 736], [177053, 737], [177053, 738], [177053, 739], [177053, 740], [177074, 766], [177074, 767], [177074, 768], [177074, 769], [177088, 95], [177096, 189], [177096, 190], [177131, 138], [177131, 139], [177141, 626], [177141, 627], [177141, 628], [177184, 38], [177184, 39], [177184, 40], [177184, 41], [177201, 796], [177201, 797], [177201, 798], [177201, 799], [177222, 338], [177222, 339], [177222, 340], [177222, 341], [177222, 342], [177319, 367], [177319, 368], [177452, 159], [177452, 160], [177452, 161], [177452, 162], [177452, 163], [177452, 164], [177452, 165], [177452, 166], [177452, 167], [177452, 168], [177452, 169], [177776, 106], [177776, 107], [177776, 108], [177878, 846], [177878, 847], [177878, 848], [177878, 849], [178151, 121], [178151, 122], [178162, 172], [178162, 173], [178162, 174], [178162, 175], [178380, 189], [178380, 190], [178380, 191], [178380, 192], [178380, 193], [178380, 194], [178380, 195], [178479, 1003], [178479, 1004], [178738, 248], [178738, 249], [178738, 250], [178738, 251], [178738, 252], [178786, 225], [178786, 226], [178786, 227], [178803, 453], [178803, 454], [178803, 455], [178803, 456], [178803, 457], [178920, 290], [178920, 291], [178985, 78], [178985, 79], [178985, 80], [178985, 81], [179411, 112], [179476, 206], [179476, 207], [179497, 430], [179497, 431], [179497, 432], [179497, 433], [179563, 1185], [179563, 1186], [179889, 528], [179889, 529], [179889, 530], [179889, 531], [179889, 532], [179889, 533], [179889, 534], [179959, 86], [180093, 342], [180093, 343], [180093, 344], [180093, 345], [180093, 346], [180241, 415], [180241, 416]]).getCMSSWString().split(',')

process.source.lumisToProcess = cms.untracked.VLuminosityBlockRange()
process.source.lumisToProcess.extend(myLumis)

#needed to get the actual prescale values used from the global tag
process.load('Configuration.StandardSequences.FrontierConditions_GlobalTag_cff')

process.GlobalTag.connect = cms.string('sqlite_file:/cvmfs/cms-opendata-conddb.cern.ch/FT_53_LV5_AN1_RUNA.db')
process.GlobalTag.globaltag = 'FT_53_LV5_AN1::All'


#configure the analyzer
process.gettriggerinfo = cms.EDAnalyzer('TriggerPrescalesAnalyzer'
    #,filterName = cms.vstring("hltSingleJet60Regional","hltSingleJet100Regional","hltSingleJet140Regional","hltSingleJet200Regional","hltSingleJet260Regional")
    ,filterName1 = cms.string("hltSingleJet60Regional")
    ,filterName2 = cms.string("hltSingleJet100Regional")
    ,filterName3 = cms.string("hltSingleJet140Regional")
    ,filterName4 = cms.string("hltSingleJet200Regional")
)
                              
#configure the TFileservice, in order to save histograms.
process.TFileService = cms.Service("TFileService",
              fileName = cms.string('histo.root')
                                   )
                                   
process.triggerinfo = cms.Path(process.gettriggerinfo)
process.schedule = cms.Schedule(process.triggerinfo)
